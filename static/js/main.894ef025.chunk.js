(this["webpackJsonpthree-js-playground"]=this["webpackJsonpthree-js-playground"]||[]).push([[0],{18:function(i,t,e){},21:function(i,t,e){"use strict";e.r(t);var s=e(3),n=e.n(s),a=e(7),r=e.n(a),h=(e(18),e(1)),o=e(2),d=e(0),u=e(8),c=e.n(u),l=e(12),m=e(13),p=e(11),g=e(10),w=e.p+"static/media/waternormals.537ec85b.jpg",f=e(9),y=e.p+"static/media/Flamingo.e65cf943.glb",v=function(){function i(t){Object(h.a)(this,i),this.scene=t,this.mixers=[],this.initModel()}return Object(o.a)(i,[{key:"initModel",value:function(){var i=this;(new f.a).load(y,(function(t){var e=t.scene.children[0],s=.35;e.scale.set(s,s,s),e.position.y=50,e.rotation.y=-1,e.castShadow=!0,e.receiveShadow=!0,i.scene.add(e);var n=new d.c(e);n.clipAction(t.animations[0]).setDuration(1).play(),i.mixers.push(n)}))}},{key:"update",value:function(i){this.mixers.forEach((function(t){t.update(i)}))}}]),i}(),k=function(){function i(t){Object(h.a)(this,i),this.containerElement=t,this.clock=new d.m,this.mixers=[],this.init(),this.animate()}return Object(o.a)(i,[{key:"init",value:function(){this.initRenderer(),this.initScene(),this.initCamera(),this.initLights(),this.initGround(),this.initSky(),this.initSun(),this.updateSun(),this.initCameraControls(),this.character=new v(this.scene),this.initGui(),this.initAxesHelper(),this.initStats(),this.initResizeListener()}},{key:"initRenderer",value:function(){this.renderer=new d.Jb({antialias:!0}),this.renderer.setPixelRatio(2*window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.containerElement.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=!0,this.renderer.toneMapping=d.a,this.renderer.toneMappingExposure=.5}},{key:"initScene",value:function(){this.scene=new d.qb,this.scene.background=(new d.n).setHSL(.1,0,1)}},{key:"initCamera",value:function(){this.camera=new d.fb(120,window.innerWidth/window.innerHeight,1,2e4),this.camera.position.set(0,50,100),this.camera.lookAt(0,50,0)}},{key:"initLights",value:function(){this.hemiLight=new d.v(16777215,16777215,.3),this.hemiLight.color.setHSL(.6,1,.6),this.hemiLight.groundColor.setHSL(.095,1,.75),this.hemiLight.position.set(0,100,0),this.scene.add(this.hemiLight),this.hemiLightHelper=new d.w(this.hemiLight,10),this.scene.add(this.hemiLightHelper),this.dirLight=new d.o(16777215,1),this.dirLight.color.setHSL(.1,1,.95),this.dirLight.position.set(-1,1.75,0),this.dirLight.position.multiplyScalar(30),this.scene.add(this.dirLight),this.dirLight.castShadow=!0,this.dirLight.shadow.mapSize.width=2048,this.dirLight.shadow.mapSize.height=2048;var i=100;this.dirLight.shadow.camera.left=-i,this.dirLight.shadow.camera.right=i,this.dirLight.shadow.camera.top=i,this.dirLight.shadow.camera.bottom=-i,this.dirLight.shadow.camera.far=3500,this.dirLight.shadow.bias=-1e-4,this.dirLightHelper=new d.p(this.dirLight,10),this.scene.add(this.dirLightHelper)}},{key:"initGround",value:function(){var i=new d.hb(1e4,1e4),t=new d.T({color:16777215});t.color.setHSL(.095,1,.75);var e=new d.R(i,t);e.position.y=0,e.rotation.x=-Math.PI/2,e.receiveShadow=!0,this.scene.add(e)}},{key:"initSky",value:function(){this.sky=new g.a,this.sky.scale.setScalar(45e3),this.scene.add(this.sky),this.skyUniforms=this.sky.material.uniforms,this.skyUniforms.turbidity.value=10,this.skyUniforms.rayleigh.value=2,this.skyUniforms.mieCoefficient.value=.005,this.skyUniforms.mieDirectionalG.value=.8}},{key:"initSun",value:function(){this.sunPos=new d.Fb,this.sunParameters={turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,inclination:0,azimuth:0,exposure:this.renderer.toneMappingExposure},this.sunPmremGenerator=new d.eb(this.renderer)}},{key:"updateSun",value:function(){this.skyUniforms.turbidity.value=this.sunParameters.turbidity,this.skyUniforms.rayleigh.value=this.sunParameters.rayleigh,this.skyUniforms.mieCoefficient.value=this.sunParameters.mieCoefficient,this.skyUniforms.mieDirectionalG.value=this.sunParameters.mieDirectionalG;var i=Math.PI*(this.sunParameters.inclination-.5),t=2*Math.PI*(this.sunParameters.azimuth-.5);this.sunPos.x=Math.cos(t),this.sunPos.y=Math.sin(t)*Math.sin(i),this.sunPos.z=Math.sin(t)*Math.cos(i);var e=this.sunPos,s=e.x,n=e.y,a=e.z;this.skyUniforms.sunPosition.value.copy(this.sunPos),this.renderer.toneMappingExposure=this.sunParameters.exposure,this.dirLight.position.x=s,this.dirLight.position.y=n,this.dirLight.position.z=a,this.dirLight.position.multiplyScalar(500),this.dirLight.lookAt(0,0,0)}},{key:"initWater",value:function(){var i=new d.hb(45e3,45e3);this.water=new p.a(i,{textureWidth:512,textureHeight:512,waterNormals:(new d.zb).load(w,(function(i){i.wrapS=i.wrapT=d.pb})),alpha:1,sunDirection:new d.Fb,sunColor:16777215,waterColor:7695,distortionScale:3.7,fog:void 0!==this.scene.fog}),this.water.rotation.x=-Math.PI/2,this.scene.add(this.water)}},{key:"initCameraControls",value:function(){this.controls=new l.a(this.camera,this.renderer.domElement),this.controls.maxPolarAngle=.495*Math.PI,this.controls.minDistance=0,this.controls.maxDistance=5e3,this.controls.update()}},{key:"initResizeListener",value:function(){var i=this;window.addEventListener("resize",(function(){i.camera.aspect=window.innerWidth/window.innerHeight,i.camera.updateProjectionMatrix(),i.renderer.setSize(window.innerWidth,window.innerHeight)}))}},{key:"initAxesHelper",value:function(){this.axesHelper=new d.d(50),this.scene.add(this.axesHelper)}},{key:"initStats",value:function(){this.stats=new c.a,this.containerElement.appendChild(this.stats.dom)}},{key:"initGui",value:function(){this.gui=new m.a;var i=this.gui.addFolder("Sky");this.gui.add(this.sunParameters,"turbidity",0,20,.1).onChange(this.updateSun.bind(this)),this.gui.add(this.sunParameters,"rayleigh",0,4,.001).onChange(this.updateSun.bind(this)),this.gui.add(this.sunParameters,"mieCoefficient",0,.1,.001).onChange(this.updateSun.bind(this)),this.gui.add(this.sunParameters,"mieDirectionalG",0,1,.001).onChange(this.updateSun.bind(this)),this.gui.add(this.sunParameters,"exposure",0,1,1e-4).onChange(this.updateSun.bind(this)),i.open()}},{key:"render",value:function(){var i=this.clock.getDelta();this.sunParameters.azimuth=(this.sunParameters.azimuth+1e-4)%1,this.updateSun(),this.dirLightHelper.update(),this.character.update(i),this.renderer.render(this.scene,this.camera)}},{key:"animate",value:function(){requestAnimationFrame(this.animate.bind(this)),this.render(),this.stats.update()}}]),i}(),L=e(4),b=function(){var i=Object(s.useRef)();return Object(s.useEffect)((function(){new k(i.current)}),[]),Object(L.jsx)("section",{ref:i})};r.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(b,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.894ef025.chunk.js.map