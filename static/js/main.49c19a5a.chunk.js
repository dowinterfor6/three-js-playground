(this["webpackJsonpthree-js-playground"]=this["webpackJsonpthree-js-playground"]||[]).push([[0],{15:function(i,t,e){},18:function(i,t,e){"use strict";e.r(t);var n=e(3),o=e.n(n),s=e(7),r=e.n(s),a=(e(15),e(1)),h=e(2),c=e(0),d=e(8),l=e.n(d),u=e(10),m=e(9),w=e.p+"static/media/Flamingo.e65cf943.glb",p=function(){function i(t){Object(a.a)(this,i),this.scene=t,this.mixers=[],this.initModel()}return Object(h.a)(i,[{key:"initModel",value:function(){var i=this;(new m.a).load(w,(function(t){var e=t.scene.children[0],n=.35;e.scale.set(n,n,n),e.position.y=15,e.rotation.y=-1,e.castShadow=!0,e.receiveShadow=!0,i.scene.add(e);var o=new c.b(e);o.clipAction(t.animations[0]).setDuration(1).play(),i.mixers.push(o)}))}},{key:"update",value:function(i){this.mixers.forEach((function(t){t.update(i)}))}}]),i}(),v=function(){function i(t){Object(a.a)(this,i),this.containerElement=t,this.clock=new c.k,this.mixers=[],this.init(),this.animate()}return Object(h.a)(i,[{key:"init",value:function(){this.initRenderer(),this.initScene(),this.initCamera(),this.initLights(),this.initGround(),this.initSky(),this.initCameraControls(),this.character=new p(this.scene),this.initAxesHelper(),this.initStats(),this.initResizeListener()}},{key:"initRenderer",value:function(){this.renderer=new c.Bb({antialias:!0}),this.renderer.setPixelRatio(2*window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.containerElement.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=!0,this.renderer.outputEncoding=c.Cb}},{key:"initScene",value:function(){this.scene=new c.lb,this.scene.background=(new c.l).setHSL(.1,0,1),this.scene.fog=new c.r(this.scene.background,1,5e3)}},{key:"initCamera",value:function(){this.camera=new c.bb(120,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.set(0,0,250)}},{key:"initLights",value:function(){this.hemiLight=new c.u(16777215,16777215,.6),this.hemiLight.color.setHSL(.6,1,.6),this.hemiLight.groundColor.setHSL(.095,1,.75),this.hemiLight.position.set(0,50,0),this.scene.add(this.hemiLight),this.hemiLightHelper=new c.v(this.hemiLight,10),this.scene.add(this.hemiLightHelper),this.dirLight=new c.m(16777215,1),this.dirLight.color.setHSL(.1,1,.95),this.dirLight.position.set(-1,1.75,0),this.dirLight.position.multiplyScalar(30),this.scene.add(this.dirLight),this.dirLight.castShadow=!0,this.dirLight.shadow.mapSize.width=2048,this.dirLight.shadow.mapSize.height=2048;this.dirLight.shadow.camera.left=-50,this.dirLight.shadow.camera.right=50,this.dirLight.shadow.camera.top=50,this.dirLight.shadow.camera.bottom=-50,this.dirLight.shadow.camera.far=3500,this.dirLight.shadow.bias=-1e-4,this.dirLightHelper=new c.n(this.dirLight,10),this.scene.add(this.dirLightHelper)}},{key:"initGround",value:function(){var i=new c.cb(1e4,1e4),t=new c.R({color:16777215});t.color.setHSL(.095,1,.75);var e=new c.P(i,t);e.position.y=-33,e.rotation.x=-Math.PI/2,e.receiveShadow=!0,this.scene.add(e)}},{key:"initSky",value:function(){var i={topColor:{value:new c.l(30719)},bottomColor:{value:new c.l(16777215)},offset:{value:33},exponent:{value:.6}};i.topColor.value.copy(this.hemiLight.color),this.scene.fog.color.copy(i.bottomColor.value);var t=new c.qb(4e3,32,15),e=new c.mb({uniforms:i,vertexShader:"\n\tvarying vec3 vWorldPosition;\n\n\tvoid main() {\n\n\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\tvWorldPosition = worldPosition.xyz;\n\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t}\n",fragmentShader:"\n\tuniform vec3 topColor;\n\tuniform vec3 bottomColor;\n\tuniform float offset;\n\tuniform float exponent;\n\n\tvarying vec3 vWorldPosition;\n\n\tvoid main() {\n\n\t\tfloat h = normalize( vWorldPosition + offset ).y;\n\t\tgl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );\n\n\t}\n",side:c.d}),n=new c.P(t,e);this.scene.add(n)}},{key:"initCameraControls",value:function(){this.controls=new u.a(this.camera,this.renderer.domElement),this.controls.maxPolarAngle=.5*Math.PI,this.controls.minDistance=0,this.controls.maxDistance=5e3}},{key:"initResizeListener",value:function(){var i=this;window.addEventListener("resize",(function(){i.camera.aspect=window.innerWidth/window.innerHeight,i.camera.updateProjectionMatrix(),i.renderer.setSize(window.innerWidth,window.innerHeight)}))}},{key:"initAxesHelper",value:function(){this.axesHelper=new c.c(50),this.scene.add(this.axesHelper)}},{key:"initStats",value:function(){this.stats=new l.a,this.containerElement.appendChild(this.stats.dom)}},{key:"render",value:function(){var i=this.clock.getDelta();this.character.update(i),this.renderer.render(this.scene,this.camera)}},{key:"animate",value:function(){requestAnimationFrame(this.animate.bind(this)),this.render(),this.stats.update()}}]),i}(),g=e(4),f=function(){var i=Object(n.useRef)();return Object(n.useEffect)((function(){new v(i.current)}),[]),Object(g.jsx)("section",{ref:i})};r.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(f,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.49c19a5a.chunk.js.map